---
name: Create test tier directory structure in root and all packages
status: open
created: 2025-09-20T01:15:53Z
updated: 2025-09-20T01:15:53Z
github: [Will be updated when synced to GitHub]
depends_on: [000.2]
parallel: true
conflicts_with: []
---

# Create test tier directory structure in root and all packages

## Description

Establish a clear, organized directory structure for different test tiers across the entire monorepo (root and all packages) to eliminate confusion and improve test organization. This foundation will support the migration away from excessive mocking by providing proper separation of concerns for different types of tests. This task creates the new structure after existing tests have been safely migrated to legacy folders.

## Acceptance Criteria

- [ ] Create `tests/unit/` directory for isolated unit tests in root and all packages
- [ ] Create `tests/integration/` directory for component integration tests in root and all packages
- [ ] Create `tests/e2e/` directory for end-to-end tests in root and all packages
- [ ] Create `tests/smoke/` directory for basic smoke tests in root and all packages
- [ ] Each directory contains appropriate `.gitkeep` files or basic structure
- [ ] Directory structure aligns with testing pyramid principles
- [ ] Clear naming conventions established for each test tier
- [ ] All packages in monorepo have consistent test tier structure
- [ ] Existing legacy tests remain untouched in test-legacy folders

## Technical Details

### Directory Structure

**Root of monorepo:**
```
tests/
├── unit/           # Fast, isolated tests with minimal dependencies
├── integration/    # Tests that verify component interactions
├── e2e/           # Full system tests
├── smoke/         # Basic functionality verification
└── test-legacy/   # Existing tests (preserved, not modified)
```

**Each package (packages/*/)**:
```
[package-name]/
├── tests/
│   ├── unit/           # Package-specific unit tests
│   ├── integration/    # Package-specific integration tests
│   ├── e2e/           # Package-specific e2e tests
│   └── smoke/         # Package-specific smoke tests
└── test-legacy/       # Existing tests (preserved, not modified)
```

### Naming Conventions
- Unit tests: `*.test.ts` for functions, `*.spec.ts` for classes
- Integration tests: `*.integration.test.ts`
- E2E tests: `*.e2e.test.ts`
- Smoke tests: `*.smoke.test.ts`

### Implementation Steps
1. Identify all packages in the monorepo that need test structure
2. Create base directory structure in root
3. Create identical structure in each package
4. Add appropriate configuration files if needed
5. Document conventions for each test tier
6. Ensure proper .gitignore patterns
7. Verify no conflicts with existing test-legacy folders

## Dependencies

- **Task 000.2**: Move existing test files to test-legacy folders - must complete before creating new structure to avoid conflicts

## Effort Estimate

**Size**: Medium (2 days)
- Day 1: Identify packages, create directory structure in root and all packages
- Day 2: Add configuration files, document conventions, and validate structure across monorepo

## Definition of Done

- [ ] All four test tier directories exist with proper structure in root and all packages
- [ ] Directory structure follows established conventions across entire monorepo
- [ ] No conflicts with existing test-legacy folders
- [ ] Structure is documented and ready for team adoption
- [ ] All packages have consistent test organization
- [ ] Configuration files support the new structure
- [ ] Team can begin using new test tiers immediately