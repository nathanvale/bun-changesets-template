---
name: Create test-legacy folders in root and all packages with existing tests
status: open
created: 2025-09-20T01:37:50Z
updated: 2025-09-20T01:37:50Z
github: [Will be updated when synced to GitHub]
depends_on: [000]
parallel: true
conflicts_with: []
---

# Task 000.1: Create test-legacy folders in root and all packages with existing tests

## Description

Create standardized `test-legacy/` directories in the monorepo root and each package that currently contains test files. These directories will serve as the preservation location for existing tests during the migration to the new test tier structure.

This task establishes the infrastructure for safe test migration while maintaining clear separation between legacy tests and the new test architecture.

## Acceptance Criteria

1. **Directory structure creation**
   - [ ] `test-legacy/` directory created in monorepo root (if root has tests)
   - [ ] `test-legacy/` directory created in each package with existing tests
   - [ ] Directory permissions set correctly for development workflow

2. **Standardized structure**
   - [ ] Consistent naming convention applied across all locations
   - [ ] Directory structure mirrors the current test organization
   - [ ] Proper .gitkeep files added to maintain empty directories in git

3. **Documentation and tracking**
   - [ ] README.md created in each test-legacy directory explaining purpose
   - [ ] Migration tracking file created to monitor progress
   - [ ] Clear documentation of what belongs in test-legacy vs new test structure

4. **Validation**
   - [ ] All packages with tests have corresponding test-legacy directories
   - [ ] No conflicts with existing directory names
   - [ ] Directories are properly tracked in git

## Technical Details

### Directory Creation Strategy
1. **Root Level**
   ```
   /test-legacy/
   ├── README.md (migration explanation)
   └── .gitkeep (if needed)
   ```

2. **Package Level**
   ```
   packages/{package-name}/
   ├── test-legacy/
   │   ├── README.md
   │   └── .gitkeep (if needed)
   └── [existing structure]
   ```

### README Template for test-legacy directories
```markdown
# Legacy Tests

This directory contains tests that were migrated from the previous test structure
during the reduce-insane-mock-usage epic implementation.

## Purpose
- Preserve existing tests during migration
- Maintain git history and test coverage
- Allow for gradual migration to new test tier structure

## Status
- **Created**: [timestamp]
- **Migration Status**: [pending/in-progress/complete]
- **Original Location**: [original test directories]

## Next Steps
These tests will eventually be:
1. Analyzed for mock usage patterns
2. Refactored to eliminate excessive mocking
3. Reorganized into the new test tier structure
4. Moved to appropriate tier directories (unit/, integration/, system/)

Do not add new tests to this directory. Use the new test tier structure instead.
```

### Implementation Approach
1. Use audit results from Task 000 to identify target locations
2. Create directories with proper permissions (755)
3. Add standardized README files
4. Ensure git tracking with appropriate .gitkeep files
5. Validate creation with automated checks

## Dependencies

- **Task 000**: Must be completed to know which packages require test-legacy directories
- Requires audit results to determine exact locations and scope

## Effort Estimate

**Size**: Small
**Duration**: 1 day
**Complexity**: Low

### Time Breakdown
- Directory creation scripting: 2 hours
- README template creation and deployment: 2 hours
- Validation and testing: 2 hours
- Documentation updates: 2 hours

## Definition of Done

1. **All required directories created**:
   - test-legacy directory exists in every location that currently has tests
   - Consistent structure and naming across all locations
   - Proper file permissions and git tracking

2. **Documentation in place**:
   - README.md in every test-legacy directory explaining purpose
   - Migration tracking documentation created
   - Updates to main project documentation referencing test-legacy structure

3. **Validation completed**:
   - Automated script verifies all expected directories exist
   - No naming conflicts with existing directories
   - Git status clean after directory creation

4. **Team readiness**:
   - Clear guidelines for when to use test-legacy vs new structure
   - Documentation accessible to all team members
   - Migration process clearly defined for next phase

## Notes

- This task sets up infrastructure only - no tests are moved yet
- Ensure consistent naming to avoid confusion during migration
- Consider future cleanup - these directories are temporary migration tools
- Document any edge cases or special requirements discovered during creation
- Plan for eventual cleanup once migration is complete