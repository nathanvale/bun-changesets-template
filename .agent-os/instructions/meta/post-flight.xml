<?xml version="1.0" encoding="UTF-8"?>
<post_flight_check>

  <metadata>
    <description>Post-execution validation and cleanup</description>
    <version>1.0</version>
  </metadata>
  
  <checks>
    
    <check name="task_completion">
      <verify>All assigned tasks marked [x]</verify>
      <verify>No blocking issues remain</verify>
    </check>
    
    <check name="test_status">
      <verify>All tests passing</verify>
      <verify>Coverage meets thresholds</verify>
      <if condition="has_unit_tests">
        <verify>Wallaby shows green</verify>
      </if>
    </check>
    
    <check name="git_status">
      <verify>All changes committed</verify>
      <verify>Branch pushed to remote</verify>
      <verify>PR created and linked</verify>
    </check>
    
    <check name="documentation">
      <verify>Recap document created</verify>
      <verify>Completion summary generated</verify>
    </check>
    
  </checks>
  
  <cleanup>
    <action>Clear temporary files</action>
    <action>Reset TodoWrite list</action>
    <action>Close any open subagent connections</action>
  </cleanup>
  
  <final_output>
    <template ref="final-execution-summary"/>
    <notification>ðŸ”” Task execution complete</notification>
  </final_output>

</post_flight_check>