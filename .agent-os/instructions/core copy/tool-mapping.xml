<?xml version="1.0" encoding="UTF-8"?>
<tool_mapping>

  <metadata>
    <description>Direct tool mapping for immediate execution</description>
    <version>1.0</version>
    <mode>DIRECT_EXECUTION</mode>
  </metadata>

  <execution_context>
    <mode>IMMEDIATE</mode>
    <instruction>WHEN YOU SEE A PATTERN, USE THE MAPPED TOOL IMMEDIATELY</instruction>
  </execution_context>

  <!-- Core Tool Mappings -->
  <mappings>
    
    <mapping id="read_file">
      <patterns>
        <pattern>load file</pattern>
        <pattern>read file</pattern>
        <pattern>get content</pattern>
        <pattern>fetch file</pattern>
        <pattern>load context</pattern>
      </patterns>
      <tool>Read</tool>
      <params>
        <file_path>{{FILE_PATH}}</file_path>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="write_file">
      <patterns>
        <pattern>create file</pattern>
        <pattern>write file</pattern>
        <pattern>save file</pattern>
        <pattern>create new</pattern>
      </patterns>
      <tool>Write</tool>
      <params>
        <file_path>{{FILE_PATH}}</file_path>
        <content>{{CONTENT}}</content>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="edit_file">
      <patterns>
        <pattern>edit file</pattern>
        <pattern>modify file</pattern>
        <pattern>update file</pattern>
        <pattern>change file</pattern>
        <pattern>mark complete</pattern>
      </patterns>
      <tool>Edit</tool>
      <params>
        <file_path>{{FILE_PATH}}</file_path>
        <old_string>{{OLD_STRING}}</old_string>
        <new_string>{{NEW_STRING}}</new_string>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="run_command">
      <patterns>
        <pattern>run command</pattern>
        <pattern>execute command</pattern>
        <pattern>bash command</pattern>
        <pattern>shell command</pattern>
      </patterns>
      <tool>Bash</tool>
      <params>
        <command>{{COMMAND}}</command>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="git_operations">
      <patterns>
        <pattern>git checkout</pattern>
        <pattern>git commit</pattern>
        <pattern>git push</pattern>
        <pattern>git stash</pattern>
        <pattern>git branch</pattern>
      </patterns>
      <tool>Bash</tool>
      <params>
        <command>{{GIT_COMMAND}}</command>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="run_tests">
      <patterns>
        <pattern>run test</pattern>
        <pattern>execute test</pattern>
        <pattern>test suite</pattern>
        <pattern>run tests</pattern>
      </patterns>
      <tool>Bash</tool>
      <params>
        <command>pnpm test</command>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="todo_tracking">
      <patterns>
        <pattern>track task</pattern>
        <pattern>update todo</pattern>
        <pattern>mark complete</pattern>
        <pattern>todo list</pattern>
      </patterns>
      <tool>TodoWrite</tool>
      <params>
        <todos>{{TODO_LIST}}</todos>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="wallaby_check">
      <patterns>
        <pattern>check wallaby</pattern>
        <pattern>wallaby status</pattern>
        <pattern>failing tests</pattern>
        <pattern>test coverage</pattern>
      </patterns>
      <tool>mcp__wallaby__wallaby_failingTests</tool>
      <params>{}</params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="search_files">
      <patterns>
        <pattern>search for</pattern>
        <pattern>find files</pattern>
        <pattern>grep for</pattern>
        <pattern>locate</pattern>
      </patterns>
      <tool>Grep</tool>
      <params>
        <pattern>{{SEARCH_PATTERN}}</pattern>
        <path>{{SEARCH_PATH}}</path>
      </params>
      <immediate>true</immediate>
    </mapping>
    
    <mapping id="list_files">
      <patterns>
        <pattern>list files</pattern>
        <pattern>show directory</pattern>
        <pattern>ls</pattern>
        <pattern>dir</pattern>
      </patterns>
      <tool>Bash</tool>
      <params>
        <command>ls -la {{PATH}}</command>
      </params>
      <immediate>true</immediate>
    </mapping>
    
  </mappings>

  <!-- Command Shortcuts -->
  <shortcuts>
    <shortcut>
      <from>@load</from>
      <to>USE Read TOOL</to>
    </shortcut>
    <shortcut>
      <from>@save</from>
      <to>USE Write TOOL</to>
    </shortcut>
    <shortcut>
      <from>@edit</from>
      <to>USE Edit TOOL</to>
    </shortcut>
    <shortcut>
      <from>@run</from>
      <to>USE Bash TOOL</to>
    </shortcut>
    <shortcut>
      <from>@test</from>
      <to>USE Bash TOOL with pnpm test</to>
    </shortcut>
    <shortcut>
      <from>@git</from>
      <to>USE Bash TOOL with git command</to>
    </shortcut>
  </shortcuts>

  <!-- Execution Rules -->
  <execution_rules>
    <rule>WHEN PATTERN MATCHES, EXECUTE TOOL IMMEDIATELY</rule>
    <rule>NO CONFIRMATION NEEDED</rule>
    <rule>NO PLANNING PHASE</rule>
    <rule>BATCH PARALLEL OPERATIONS WHEN POSSIBLE</rule>
    <rule>CONTINUE ON NON-CRITICAL ERRORS</rule>
  </execution_rules>

  <!-- Performance Optimizations -->
  <optimizations>
    <optimization>
      <name>parallel_reads</name>
      <description>Execute multiple Read operations in parallel</description>
      <enabled>true</enabled>
    </optimization>
    <optimization>
      <name>batch_edits</name>
      <description>Use MultiEdit for multiple changes to same file</description>
      <enabled>true</enabled>
    </optimization>
    <optimization>
      <name>cache_results</name>
      <description>Cache Read results within execution</description>
      <enabled>true</enabled>
    </optimization>
  </optimizations>

  <enforcement>
    <rule>USE THIS MAPPING FOR ALL OPERATIONS</rule>
    <rule>EXECUTE IMMEDIATELY ON PATTERN MATCH</rule>
    <rule>NO SUBAGENT INVOCATIONS</rule>
    <rule>DIRECT TOOL CALLS ONLY</rule>
  </enforcement>

</tool_mapping>