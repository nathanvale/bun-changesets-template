<?xml version="1.0" encoding="UTF-8"?>
<subagent_protocol>

  <metadata>
    <description>Direct tool execution protocol - NO SUBAGENTS</description>
    <version>2.0</version>
    <mode>DIRECT_TOOL_EXECUTION</mode>
  </metadata>

  <execution_context>
    <mode>DIRECT</mode>
    <instruction>USE TOOLS DIRECTLY. NO SUBAGENT INVOCATION. EXECUTE IMMEDIATELY.</instruction>
  </execution_context>
  
  <!-- CRITICAL: Map all subagent calls to direct tool calls -->
  <tool_mappings>
    
    <mapping name="context-fetcher">
      <from>@context-fetcher</from>
      <to>
        <tool>Read</tool>
        <instruction>USE Read TOOL DIRECTLY ON SPECIFIED FILES</instruction>
      </to>
    </mapping>
    
    <mapping name="git-workflow">
      <from>@git-workflow</from>
      <to>
        <tool>Bash</tool>
        <instruction>USE Bash TOOL WITH GIT COMMANDS DIRECTLY</instruction>
      </to>
    </mapping>
    
    <mapping name="test-runner">
      <from>@test-runner</from>
      <to>
        <tool>Bash</tool>
        <instruction>USE Bash TOOL WITH TEST COMMANDS DIRECTLY</instruction>
        <commands>
          <default>pnpm test</default>
          <unit>pnpm test:unit</unit>
          <integration>pnpm test:integration</integration>
        </commands>
      </to>
    </mapping>
    
    <mapping name="wallaby-checker">
      <from>@wallaby-checker</from>
      <to>
        <tool>Wallaby MCP Tools</tool>
        <instruction>USE WALLABY MCP TOOLS DIRECTLY</instruction>
        <commands>
          <check>mcp__wallaby__wallaby_failingTests</check>
          <coverage>mcp__wallaby__wallaby_coveredLinesForFile</coverage>
        </commands>
      </to>
    </mapping>
    
    <mapping name="generic">
      <from>@subagent</from>
      <to>
        <tool>APPROPRIATE TOOL</tool>
        <instruction>DETERMINE AND USE THE APPROPRIATE TOOL DIRECTLY</instruction>
      </to>
    </mapping>
    
  </tool_mappings>
  
  <!-- REPLACE invocation patterns with DIRECT COMMANDS -->
  <direct_execution_commands>
    
    <command name="load_files">
      <description>Load multiple files</description>
      <execute>
        <parallel>true</parallel>
        <tools>
          <tool>Read</tool>
          <params>EACH FILE PATH</params>
        </tools>
      </execute>
    </command>
    
    <command name="git_operations">
      <description>Git operations</description>
      <execute>
        <tool>Bash</tool>
        <params>GIT COMMAND</params>
      </execute>
    </command>
    
    <command name="run_tests">
      <description>Run tests</description>
      <execute>
        <tool>Bash</tool>
        <params>TEST COMMAND</params>
      </execute>
    </command>
    
  </direct_execution_commands>
  
  <!-- NO CASCADE - DIRECT EXECUTION ONLY -->
  <execution_strategy>
    <level priority="1">
      <action>USE DIRECT TOOL IMMEDIATELY</action>
      <no_wait>true</no_wait>
      <no_timeout>true</no_timeout>
    </level>
  </execution_strategy>
  
  <!-- NO WAIT PROTOCOL - EXECUTE IMMEDIATELY -->
  <execution_protocol>
    <on_command>
      <action>EXECUTE TOOL IMMEDIATELY</action>
      <no_wait>true</no_wait>
      <no_verification_pause>true</no_verification_pause>
      <proceed>IMMEDIATELY TO NEXT COMMAND</proceed>
    </on_command>
  </execution_protocol>

  <enforcement>
    <rule>NEVER INVOKE SUBAGENTS</rule>
    <rule>ALWAYS USE DIRECT TOOLS</rule>
    <rule>EXECUTE IMMEDIATELY</rule>
    <rule>NO WAITING</rule>
    <rule>NO PATTERNS - USE COMMANDS</rule>
  </enforcement>

  <!-- Translation table for legacy references -->
  <legacy_translation>
    <translate>
      <from>invoke subagent</from>
      <to>USE TOOL DIRECTLY</to>
    </translate>
    <translate>
      <from>wait for response</from>
      <to>CONTINUE IMMEDIATELY</to>
    </translate>
    <translate>
      <from>cascade to fallback</from>
      <to>USE PRIMARY TOOL</to>
    </translate>
    <translate>
      <from>verify response</from>
      <to>PROCEED WITHOUT VERIFICATION</to>
    </translate>
  </legacy_translation>

</subagent_protocol>